<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.6" xml:lang="en-US">
  <compounddef id="_hep_em_show_8cc" kind="file" language="C++">
    <compoundname>HepEmShow.cc</compoundname>
      <sectiondef kind="func">
      <memberdef kind="function" id="_hep_em_show_8cc_1a0ddf1224851353fc92bfbff6f499fa97" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int main</definition>
        <argsstring>(int argc, char *argv[])</argsstring>
        <name>main</name>
        <param>
          <type>int</type>
          <declname>argc</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>argv</declname>
          <array>[]</array>
        </param>
        <briefdescription>
<para>The main function of the <computeroutput>HepEmShow</computeroutput> simulation application (see more in the description). </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/mnovak/projects/Geant4/For-DiffProgramming/hepemshow/HepEmShow.cc" line="73" column="5" bodyfile="/Users/mnovak/projects/Geant4/For-DiffProgramming/hepemshow/HepEmShow.cc" bodystart="73" bodyend="145"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>The main funtion of the <computeroutput>HepEmShow</computeroutput> application. </para>
    </briefdescription>
    <detaileddescription>
<para><simplesect kind="author"><para>M. Novak </para>
</simplesect>
<simplesect kind="date"><para>July 2023</para>
</simplesect>
</para>
<para>The main of the <computeroutput>HepEmShow</computeroutput> application is responsible for setting up the environment, lunch the simulation and write the results. This is done by:<itemizedlist>
<listitem><para>reading the input arguments provided at the execution of the application into an <computeroutput><ref refid="struct_input_parameters" kindref="compound">InputParameters</ref></computeroutput> object. (Note, these arguments provide configuration options).</para>
</listitem><listitem><para>loading the <computeroutput>G4HepEm</computeroutput> data and parameters from file into a <computeroutput>G4HepEmState</computeroutput> (see the note below)</para>
</listitem><listitem><para>constructing a <computeroutput>G4HepEmTLData</computeroutput> (also required by <computeroutput>G4HepEm</computeroutput> and encapsulates the random number generator and some track buffers) with its random number generator (utilising the local <computeroutput><ref refid="class_u_random" kindref="compound">URandom</ref></computeroutput> generator)</para>
</listitem><listitem><para>constructing and setting up the application <computeroutput><ref refid="class_geometry" kindref="compound">Geometry</ref></computeroutput> according to the provided configuration input arguments (in <computeroutput><ref refid="struct_input_parameters" kindref="compound">InputParameters</ref></computeroutput>)</para>
</listitem><listitem><para>constructing and setting up a <computeroutput><ref refid="struct_results" kindref="compound">Results</ref></computeroutput> structure that will be used to collect some data during the simulation</para>
</listitem><listitem><para>constructing and setting up the <computeroutput><ref refid="class_primary_generator" kindref="compound">PrimaryGenerator</ref></computeroutput> of the application according to the provided configuration input arguments (in <computeroutput><ref refid="struct_input_parameters" kindref="compound">InputParameters</ref></computeroutput>)</para>
</listitem><listitem><para>the <computeroutput><ref refid="class_event_loop_1a7b1d4b512c5fa676bd990cfaa6d561c9" kindref="member">EventLoop::ProcessEvents</ref></computeroutput> method is invoked then to <bold>perform the simulation</bold></para>
</listitem><listitem><para>the simulation results are witten to file (and to the standard output) by invoking <computeroutput><ref refid="_results_8hh_1a2e94780b3b797ba10abaf1154db56016" kindref="member">WriteResults()</ref></computeroutput> (from the <computeroutput><ref refid="struct_results" kindref="compound">Results</ref></computeroutput>)</para>
</listitem></itemizedlist>
</para>
<para><simplesect kind="note"><para>The <computeroutput>G4HepEm</computeroutput> data file is either the one included in the <computeroutput>HepEmShow</computeroutput> repository (under <computeroutput>hepemshow/data/</computeroutput>) or generated by the auxiliary <computeroutput>HepEmShow-DataGeneration</computeroutput> application. In the former case, the data file contains all data that <computeroutput>G4HepEm</computeroutput> needs for the simulation for the 3 default (<computeroutput>{&quot;G4_Galactic&quot;, &quot;G4_PbWO4&quot;, &quot;G4_lAr&quot;}</computeroutput>) materials, i.e. those used in the default <computeroutput><ref refid="class_geometry" kindref="compound">Geometry</ref></computeroutput> configuration. </para>
</simplesect>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="comment">//<sp/>G4HepEm<sp/>related<sp/>includes:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="comment">//<sp/>-<sp/>from<sp/>G4HepEm/G4HepEmData:<sp/>data<sp/>(struct)<sp/>definitions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;G4HepEmState.hh&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;G4HepEmData.hh&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;G4HepEmParameters.hh&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;G4HepEmMatCutData.hh&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="comment">//<sp/>-<sp/>from<sp/>G4HepEm/G4HepEmDataJsonIO:<sp/>data<sp/>IO<sp/>(i.e.<sp/>to<sp/>load<sp/>the<sp/>pre-generated<sp/>data)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;G4HepEmDataJsonIO.hh&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="comment">//<sp/>-<sp/>for<sp/>plugging<sp/>in<sp/>our<sp/>local<sp/>(`URandom`)<sp/>random<sp/>number<sp/>generator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;G4HepEmTLData.hh&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;G4HepEmRandomEngine.hh&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_u_random_8hh" kindref="compound">URandom.hh</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Local<sp/>includes:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_input_parameters_8hh" kindref="compound">InputParameters.hh</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_geometry_8hh" kindref="compound">Geometry.hh</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_primary_generator_8hh" kindref="compound">PrimaryGenerator.hh</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_results_8hh" kindref="compound">Results.hh</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_event_loop_8hh" kindref="compound">EventLoop.hh</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">//<sp/>System<sp/>includes:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;iostream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;fstream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;sys/time.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;ctime&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_hep_em_show_8cc_1a0ddf1224851353fc92bfbff6f499fa97" kindref="member">main</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>argc,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal">*<sp/>argv[])<sp/>{</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>`InputParameters`<sp/>encapsulates<sp/>the<sp/>possible<sp/>input<sp/>parameters<sp/>that<sp/>are<sp/>read<sp/>by<sp/>`GetOpt`</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><ref refid="struct_input_parameters" kindref="compound">InputParameters</ref><sp/>theInputParameters;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/>GetOpt(argc,<sp/>argv,<sp/>theInputParameters);</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>`G4HepEmState`<sp/>encapsulates<sp/>G4HepEm<sp/>(physics<sp/>related)<sp/>`data`<sp/>and<sp/>`parameters`</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>here<sp/>we<sp/>load<sp/>the<sp/>generated/delivered<sp/>G4HepEm<sp/>data<sp/>from<sp/>the<sp/>file<sp/>given<sp/>as<sp/>an<sp/>input<sp/>argument</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/>std::ifstream<sp/>jsonIS{<sp/>theInputParameters.<ref refid="struct_input_parameters_1a3a00664f729cff9c2ede9a82be35f9f1" kindref="member">fG4HepEmDataFile</ref>.c_str()<sp/>};</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/>G4HepEmState*<sp/>theState<sp/>=<sp/>G4HepEmStateFromJson(jsonIS);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>`G4HepEmTLData`<sp/>encapsulates<sp/>&quot;thread-local&quot;<sp/>(i.e.<sp/>TL)<sp/>data<sp/>like:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>the<sp/>random<sp/>number<sp/>generator<sp/>(will<sp/>be<sp/>constructed<sp/>and<sp/>set<sp/>below)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>the<sp/>primary/secondary<sp/>tracks<sp/>used<sp/>to<sp/>provide/receive<sp/>tracks<sp/>to/from<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/>G4HepEm<sp/>run-time<sp/>functioinalities</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/>G4HepEmTLData*<sp/><sp/>theTLData<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>G4HepEmTLData();</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>construct<sp/>a<sp/>HepEm<sp/>random<sp/>number<sp/>generator,<sp/>using<sp/>our<sp/>local<sp/>uniform<sp/>`URandom`</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>generator,<sp/>then<sp/>set<sp/>it<sp/>to<sp/>be<sp/>used<sp/>in<sp/>the<sp/>above<sp/>TLdata</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>NOTE:<sp/>seed<sp/>can<sp/>be<sp/>set<sp/>as<sp/>input<sp/>argument</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><ref refid="class_u_random" kindref="compound">URandom</ref>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theURnd<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_u_random" kindref="compound">URandom</ref>(theInputParameters.<ref refid="struct_input_parameters_1a34ce91465085f18f7e76bdb5a1f2a1b3" kindref="member">fPrimaryAndEvents</ref>.<ref refid="struct_input_parameters_1_1_primary_and_events_1a9e856f4c65b7c54b585712a80e7e27d2" kindref="member">fRandomSeed</ref>);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/>G4HepEmRandomEngine*<sp/>theRandomEngine<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>G4HepEmRandomEngine(theURnd);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/>theTLData-&gt;SetRandomEngine(theRandomEngine);</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>`Geometry`<sp/>describes<sp/>the<sp/>application<sp/>geometry<sp/>(i.e.<sp/>the<sp/>simplified<sp/>sampling<sp/>calorimeter)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>here<sp/>we<sp/>construct<sp/>the<sp/>application<sp/>geometry<sp/>and<sp/>set<sp/>its<sp/>configurable<sp/>properties<sp/>like</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/>#layers,<sp/>thickness<sp/>of<sp/>absorber<sp/>and<sp/>gap,<sp/>etc.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><ref refid="class_geometry" kindref="compound">Geometry</ref><sp/>theGeometry;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/>theGeometry.<ref refid="class_geometry_1a47d793bed18a5599b656e85b502109ac" kindref="member">SetNumLayers</ref>(theInputParameters.<ref refid="struct_input_parameters_1a921dbfbac71b688dfde11060591e69ed" kindref="member">fGeometry</ref>.<ref refid="struct_input_parameters_1_1_geometry_1a1da1662e45b6034aa1e3e04f97bc2d03" kindref="member">fNumLayers</ref>);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/>theGeometry.<ref refid="class_geometry_1a24eaa81106907bbef4404407b4093bbf" kindref="member">SetAbsThick</ref>(theInputParameters.<ref refid="struct_input_parameters_1a921dbfbac71b688dfde11060591e69ed" kindref="member">fGeometry</ref>.<ref refid="struct_input_parameters_1_1_geometry_1aaec005d9ef9029fe121d6323eb9faf76" kindref="member">fThicknessAbsorber</ref>);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/>theGeometry.<ref refid="class_geometry_1a07629f80bdfada5f95ce3657aa2887b7" kindref="member">SetGapThick</ref>(theInputParameters.<ref refid="struct_input_parameters_1a921dbfbac71b688dfde11060591e69ed" kindref="member">fGeometry</ref>.<ref refid="struct_input_parameters_1_1_geometry_1a7d1ac576d4ec41f45b470fe468d097a9" kindref="member">fThicknessGap</ref>);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/>theGeometry.<ref refid="class_geometry_1a788be363c5ccfd2ccc25e68c404fec3b" kindref="member">SetCaloSizeYZ</ref>(theInputParameters.<ref refid="struct_input_parameters_1a921dbfbac71b688dfde11060591e69ed" kindref="member">fGeometry</ref>.<ref refid="struct_input_parameters_1_1_geometry_1afc52a39c40d78b6939cc676088fa42d4" kindref="member">fSizeTransverse</ref>);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>`PrimaryGenerator`<sp/>is<sp/>used<sp/>to<sp/>produce<sp/>primary<sp/>particle/track<sp/>when<sp/>starting<sp/>a<sp/>new<sp/>event</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>here<sp/>we<sp/>construct<sp/>the<sp/>primary<sp/>generator<sp/>and<sp/>set<sp/>its<sp/>configurable<sp/>properties<sp/>like</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>primary<sp/>particle<sp/>kinetic<sp/>energy<sp/>and<sp/>its<sp/>type,<sp/>i.e.<sp/>e-,e+<sp/>or<sp/>gamma<sp/>(determined<sp/>the<sp/>charge),<sp/>etc.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><ref refid="class_primary_generator" kindref="compound">PrimaryGenerator</ref><sp/>thePrimaryGenerator;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>charge<sp/>=<sp/>theInputParameters.<ref refid="struct_input_parameters_1a34ce91465085f18f7e76bdb5a1f2a1b3" kindref="member">fPrimaryAndEvents</ref>.<ref refid="struct_input_parameters_1_1_primary_and_events_1abe7bda9ce7c54ed3d23dbf9dced99fb4" kindref="member">fParticleName</ref><sp/>==<sp/></highlight><highlight class="stringliteral">&quot;e-&quot;</highlight><highlight class="normal"><sp/>?<sp/>-1.0</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>(theInputParameters.<ref refid="struct_input_parameters_1a34ce91465085f18f7e76bdb5a1f2a1b3" kindref="member">fPrimaryAndEvents</ref>.<ref refid="struct_input_parameters_1_1_primary_and_events_1abe7bda9ce7c54ed3d23dbf9dced99fb4" kindref="member">fParticleName</ref><sp/>==<sp/></highlight><highlight class="stringliteral">&quot;gamma&quot;</highlight><highlight class="normal"><sp/>?<sp/>0.0<sp/>:<sp/>+1.0);</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/>thePrimaryGenerator.<ref refid="class_primary_generator_1aefe91e38900dce2993b54705f9603564" kindref="member">SetCharge</ref>(charge);</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/>thePrimaryGenerator.<ref refid="class_primary_generator_1a7973f44f8f33e011625011bc581b86a9" kindref="member">SetKinEnergy</ref>(theInputParameters.<ref refid="struct_input_parameters_1a34ce91465085f18f7e76bdb5a1f2a1b3" kindref="member">fPrimaryAndEvents</ref>.<ref refid="struct_input_parameters_1_1_primary_and_events_1a9f8bb9a2b488ca127faf32c26ebbf019" kindref="member">fParticleEnergy</ref>);</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>primary<sp/>particle<sp/>position<sp/>and<sp/>direction<sp/>(should<sp/>not<sp/>be<sp/>changed)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/>thePrimaryGenerator.<ref refid="class_primary_generator_1ae5cb43ec31588f62873d9372b19d7788" kindref="member">SetPosition</ref>(theGeometry.<ref refid="class_geometry_1a69f072bb3a6ecda07dd7f8c907fc03c9" kindref="member">GetPrimaryXposition</ref>(),<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/>thePrimaryGenerator.<ref refid="class_primary_generator_1a5821f1896d6ae1e5ac9cb535d812f739" kindref="member">SetDirection</ref>(1.0,<sp/>0.0,<sp/>0.0);</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>`Results`<sp/>encapsulates<sp/>the<sp/>data<sp/>that<sp/>we<sp/>record<sp/>during<sp/>the<sp/>simulation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>here<sp/>we<sp/>construct<sp/>one<sp/>and<sp/>set<sp/>the<sp/>properties<sp/>of<sp/>its<sp/>histograms<sp/>(as<sp/>thery<sp/>are<sp/>used</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>collect<sp/>data<sp/>per-layer<sp/>and<sp/>the<sp/>number<sp/>of<sp/>layer<sp/>is<sp/>configurable<sp/>input<sp/>argument)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><ref refid="struct_results" kindref="compound">Results</ref><sp/>theResult;</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/>theResult.<ref refid="struct_results_1a868f71c54a3068363ff43ec93ce835f0" kindref="member">fEdepPerLayer</ref>.<ref refid="class_hist_1ac6959a1bab2f319671b4e44398ebce2a" kindref="member">ReSet</ref>(</highlight><highlight class="stringliteral">&quot;hist_Edep_PerLayer&quot;</highlight><highlight class="normal">,<sp/>0,<sp/>theGeometry.<ref refid="class_geometry_1a5b246547a35881d7eb2b6980952f4004" kindref="member">GetNumLayers</ref>(),<sp/>theGeometry.<ref refid="class_geometry_1a5b246547a35881d7eb2b6980952f4004" kindref="member">GetNumLayers</ref>());</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/>theResult.<ref refid="struct_results_1af2f609c28fe15e0892646fae98c8ef16" kindref="member">fGammaTrackLenghtPerLayer</ref>.<ref refid="class_hist_1ac6959a1bab2f319671b4e44398ebce2a" kindref="member">ReSet</ref>(</highlight><highlight class="stringliteral">&quot;hist_GamTrackL_PerLayer&quot;</highlight><highlight class="normal">,<sp/>0,<sp/>theGeometry.<ref refid="class_geometry_1a5b246547a35881d7eb2b6980952f4004" kindref="member">GetNumLayers</ref>(),<sp/>theGeometry.<ref refid="class_geometry_1a5b246547a35881d7eb2b6980952f4004" kindref="member">GetNumLayers</ref>());</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/>theResult.<ref refid="struct_results_1a1d825ca3eb96f2604ee4750d6f93bd08" kindref="member">fElPosTrackLenghtPerLayer</ref>.<ref refid="class_hist_1ac6959a1bab2f319671b4e44398ebce2a" kindref="member">ReSet</ref>(</highlight><highlight class="stringliteral">&quot;hist_ElPosTrackL_PerLayer&quot;</highlight><highlight class="normal">,<sp/>0,<sp/>theGeometry.<ref refid="class_geometry_1a5b246547a35881d7eb2b6980952f4004" kindref="member">GetNumLayers</ref>(),<sp/>theGeometry.<ref refid="class_geometry_1a5b246547a35881d7eb2b6980952f4004" kindref="member">GetNumLayers</ref>());</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>here<sp/>we<sp/>start<sp/>the<sp/>event<sp/>processing:<sp/>generate<sp/>the<sp/>required<sp/>number<sp/>of<sp/>event<sp/>and<sp/>simulte<sp/>each<sp/>event.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><ref refid="class_event_loop_1a7b1d4b512c5fa676bd990cfaa6d561c9" kindref="member">EventLoop::ProcessEvents</ref>(*theTLData,<sp/>*theState,<sp/>thePrimaryGenerator,<sp/>theGeometry,<sp/>theResult,<sp/>theInputParameters.<ref refid="struct_input_parameters_1a34ce91465085f18f7e76bdb5a1f2a1b3" kindref="member">fPrimaryAndEvents</ref>.<ref refid="struct_input_parameters_1_1_primary_and_events_1a55e5297ef8e8203d4942afff69a61ba8" kindref="member">fNumEvents</ref>,<sp/>theInputParameters.<ref refid="struct_input_parameters_1ae5022264c5b3d91446c18fd975a6f742" kindref="member">fRunVerbosity</ref>);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>here<sp/>we<sp/>summarise<sp/>the<sp/>results<sp/>and<sp/>write<sp/>them<sp/>to<sp/>file<sp/>(the<sp/>histograms)<sp/>or<sp/>to<sp/>the<sp/>screen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><ref refid="_results_8hh_1a2e94780b3b797ba10abaf1154db56016" kindref="member">WriteResults</ref>(theResult,<sp/>theInputParameters.<ref refid="struct_input_parameters_1a34ce91465085f18f7e76bdb5a1f2a1b3" kindref="member">fPrimaryAndEvents</ref>.<ref refid="struct_input_parameters_1_1_primary_and_events_1a55e5297ef8e8203d4942afff69a61ba8" kindref="member">fNumEvents</ref>);</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>delete<sp/>objects</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>theRandomEngine;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>theURnd;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">delete</highlight><highlight class="normal"><sp/>theTLData;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="145"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/Users/mnovak/projects/Geant4/For-DiffProgramming/hepemshow/HepEmShow.cc"/>
  </compounddef>
</doxygen>
